"use strict";(self.webpackChunkproject_x2=self.webpackChunkproject_x2||[]).push([[831],{8831:(kn,dt,m)=>{m.r(dt),m.d(dt,{RankingModule:()=>Cn});var _t=m(6814),h=m(4946);let te=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=h.oAB({type:e});static#n=this.\u0275inj=h.cJS({imports:[_t.ez]})}return e})();var gt=m(9678);let ee=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=h.Xpm({type:e,selectors:[["app-ranking-list"]],decls:2,vars:0,template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1," ranking-list works!\n"),h.qZA())}})}return e})();var ne=m(9397),re=m(4716),se=m(6306),ie=m(8504);function ft(e,t,n,r,s,i,a){try{var o=e[i](a),p=o.value}catch(d){return void n(d)}o.done?t(p):Promise.resolve(p).then(r,s)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function a(p){ft(i,r,s,a,o,"next",p)}function o(p){ft(i,r,s,a,o,"throw",p)}a(void 0)})}}var oe=Object.defineProperty,c=(e,t,n)=>(((e,t,n)=>{t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function mt(e,t){let n;const r=()=>{void 0!==n&&t&&t(n),n=void 0};return[()=>void 0===n?n=e(r):n,r]}const U=new class pe{constructor(t,n={}){this.scope=t,this.options=n}print(t,...n){const r=new Date,s=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(r),{textColor:i,bgColor:a}=this.options,o="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${s}%c / %c${this.scope}`,`${o};background-color: lightblue;color:black`,"",`${o};${i?`color:${i};`:""}${a?`background-color:${a}`:""}`,...n)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}("SDK",{bgColor:"forestgreen",textColor:"white"});let H=!1;class A{constructor(){c(this,"listeners",new Map),c(this,"listenersCount",0),c(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...n){this.subscribeListeners.forEach(r=>r({event:t,args:n})),(this.listeners.get(t)||[]).forEach(([r,s])=>{r(...n),s&&this.off(t,r)})}on(t,n,r){let s=this.listeners.get(t);return s||this.listeners.set(t,s=[]),s.push([n,r]),this.listenersCount+=1,()=>this.off(t,n)}off(t,n){const r=this.listeners.get(t)||[];for(let s=0;s<r.length;s+=1)if(n===r[s][0])return r.splice(s,1),void(this.listenersCount-=1)}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let n=0;n<this.subscribeListeners.length;n+=1)if(this.subscribeListeners[n]===t)return void this.subscribeListeners.splice(n,1)}}function G(e,t,n){return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}function j(...e){let t=!1;const n=e.flat(1);return[r=>!t&&n.push(r),()=>{t||(t=!0,n.forEach(r=>r()))},t]}class $ extends Error{constructor(t,n,r){super(n,{cause:r}),this.type=t,Object.setPrototypeOf(this,$.prototype)}}function b(e,t,n){return new $(e,t,n)}const ue="ERR_METHOD_UNSUPPORTED",le="ERR_METHOD_PARAMETER_UNSUPPORTED",de="ERR_UNKNOWN_ENV",_e="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",ge="ERR_TIMED_OUT",fe="ERR_UNEXPECTED_TYPE",yt="ERR_PARSE";function k(){return b(fe,"Value has unexpected type")}class L{constructor(t,n,r){this.parser=t,this.isOptional=n,this.type=r}parse(t){if(!this.isOptional||void 0!==t)try{return this.parser(t)}catch(n){throw b(yt,"Unable to parse value"+(this.type?` as ${this.type}`:""),n)}}optional(){return this.isOptional=!0,this}}function S(e,t){return()=>new L(e,!1,t)}const v=S(e=>{if("boolean"==typeof e)return e;const t=String(e);if("1"===t||"true"===t)return!0;if("0"===t||"false"===t)return!1;throw k()},"boolean");function vt(e,t){const n={};for(const r in e){const s=e[r];if(!s)continue;let i,a;if("function"==typeof s||"parse"in s)i=r,a="function"==typeof s?s:s.parse.bind(s);else{const{type:o}=s;i=s.from||r,a="function"==typeof o?o:o.parse.bind(o)}try{const o=a(t(i));void 0!==o&&(n[r]=o)}catch(o){throw b(yt,`Unable to parse field "${r}"`,o)}}return n}function Et(e){let t=e;if("string"==typeof t&&(t=JSON.parse(t)),"object"!=typeof t||null===t||Array.isArray(t))throw k();return t}function w(e,t){return new L(n=>{const r=Et(n);return vt(e,s=>r[s])},!1,t)}const P=S(e=>{if("number"==typeof e)return e;if("string"==typeof e){const t=Number(e);if(!Number.isNaN(t))return t}throw k()},"number"),u=S(e=>{if("string"==typeof e||"number"==typeof e)return e.toString();throw k()},"string");function ye(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function z(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}const Ee={clipboard_text_received:w({req_id:u(),data:e=>null===e?e:u().optional().parse(e)}),custom_method_invoked:w({req_id:u(),result:e=>e,error:u().optional()}),popup_closed:{parse:e=>w({button_id:t=>null==t?void 0:u().parse(t)}).parse(e??{})},viewport_changed:w({height:P(),width:e=>null==e?window.innerWidth:P().parse(e),is_state_stable:v(),is_expanded:v()})};function xe(){const e=new A,t=new A;t.subscribe(r=>{e.emit("event",{name:r.event,payload:r.args[0]})}),function ve(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((n,r,s)=>{r!==s.length-1?(n in t||(t[n]={}),t=t[n]):t[n]=z})})}();const[,n]=j(ye,G("resize",()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),G("message",r=>{if(r.source!==window.parent)return;let s;try{s=function xt(e){return w({eventType:u(),eventData:t=>t}).parse(e)}(r.data)}catch{return}const{eventType:i,eventData:a}=s,o=Ee[i];try{const p=o?o.parse(a):a;t.emit(...p?[i,p]:[i])}catch(p){U.error(`An error occurred processing the "${i}" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,s,p)}}),()=>e.clear(),()=>t.clear());return[{on:t.on.bind(t),off:t.off.bind(t),subscribe:r=>e.on("event",r),unsubscribe(r){e.off("event",r)},get count(){return t.count+e.count}},n]}const[Pe,Ce]=mt(e=>{const[t,n]=xe(),r=t.off.bind(t);return t.off=(s,i)=>{const{count:a}=t;r(s,i),a&&!t.count&&e()},[t,n]},([,e])=>e());function M(){return Pe()[0]}function W(e,t){M().off(e,t)}function y(e,t,n){return M().on(e,t,n)}function I(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function f(e,t){return function ke(e,t){const n=e.split("."),r=t.split("."),s=Math.max(n.length,r.length);for(let i=0;i<s;i+=1){const a=parseInt(n[i]||"0",10),o=parseInt(r[i]||"0",10);if(a!==o)return a>o?1:-1}return 0}(e,t)<=0}function C(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return f("6.4",n);if("try_browser"===t)return f("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return f("6.9",n);if("web_app_close"===e&&"return_back"===t)return f("7.6",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return f("6.1",t);case"web_app_open_popup":return f("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return f("6.4",t);case"web_app_switch_inline_query":return f("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return f("6.9",t);case"web_app_setup_settings_button":return f("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return f("7.2",t);case"web_app_setup_swipe_behavior":return f("7.7",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}let St="https://web.telegram.org";function q(e,t,n){let s,r={};if(t||n?t&&n?(r=n,s=t):t&&("targetOrigin"in t?r=t:s=t):r={},function he(...e){H&&U.log(...e)}("Posting event:",s?{event:e,data:s}:{event:e}),function kt(){try{return window.self!==window.top}catch{return!0}}())return window.parent.postMessage(JSON.stringify({eventType:e,eventData:s}),r.targetOrigin||function Se(){return St}());if(function Pt(e){return"external"in e&&I(e.external)&&"notify"in e.external&&"function"==typeof e.external.notify}(window))window.external.notify(JSON.stringify({eventType:e,eventData:s}));else{if(!function Ct(e){return"TelegramWebviewProxy"in e&&I(e.TelegramWebviewProxy)&&"postEvent"in e.TelegramWebviewProxy&&"function"==typeof e.TelegramWebviewProxy.postEvent}(window))throw b(de,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.");window.TelegramWebviewProxy.postEvent(e,JSON.stringify(s))}}function Te(e){return(t,n)=>{if(!C(t,e))throw b(ue,`Method "${t}" is unsupported in Mini Apps version ${e}`);if(I(n)&&"web_app_set_header_color"===t&&"color"in n&&!C(t,"color",e))throw b(le,`Parameter "color" of "${t}" method is unsupported in Mini Apps version ${e}`);return q(t,n)}}function Tt(e){return({req_id:t})=>t===e}function At(e){return b(ge,`Timeout reached: ${e}ms`)}function It(e,t){return Promise.race(["function"==typeof e?e():e,new Promise((n,r)=>{setTimeout(()=>{r(At(t))},t)})])}function g(e){return J.apply(this,arguments)}function J(){return(J=l(function*(e){let t;const n=new Promise(o=>t=o),{event:r,capture:s,timeout:i}=e,[,a]=j((Array.isArray(r)?r:[r]).map(o=>y(o,p=>{(!s||(Array.isArray(r)?s({event:o,payload:p}):s(p)))&&t(p)})));try{return(e.postEvent||q)(e.method,e.params),yield i?It(n,i):n}finally{a()}})).apply(this,arguments)}function R(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=l(function*(e,t,n,r={}){const{result:s,error:i}=yield g({...r,method:"web_app_invoke_custom_method",event:"custom_method_invoked",params:{method:e,params:t,req_id:n},capture:Tt(n)});if(i)throw b(_e,i);return s})).apply(this,arguments)}function Q(e){return/^#[\da-f]{6}$/i.test(e)}function qt(e){const t=e.replace(/\s/g,"").toLowerCase();if(Q(t))return t;if(function Ae(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let r="#";for(let s=0;s<3;s+=1)r+=t[1+s].repeat(2);return r}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((r,s)=>{const i=parseInt(s,10).toString(16);return r+(1===i.length?"0":"")+i},"#")}function Rt(e){const t=qt(e);return Math.sqrt([.299,.587,.114].reduce((n,r,s)=>{const i=parseInt(t.slice(1+2*s,1+2*(s+1)),16);return n+i*i*r},0))<120}class Ie{constructor(t){c(this,"ee",new A),c(this,"on",this.ee.on.bind(this.ee)),c(this,"off",this.ee.off.bind(this.ee)),this.state=t}clone(){return{...this.state}}set(t,n){Object.entries("string"==typeof t?{[t]:n}:t).reduce((r,[s,i])=>this.state[s]===i||void 0===i?r:(this.state[s]=i,this.ee.emit(`change:${s}`,i),!0),!1)&&this.ee.emit("change",this.state)}get(t){return this.state[t]}}class K{constructor(t){c(this,"state"),c(this,"get"),c(this,"set"),c(this,"clone"),this.state=new Ie(t),this.set=this.state.set.bind(this.state),this.get=this.state.get.bind(this.state),this.clone=this.state.clone.bind(this.state)}}function Ot(e,t){return n=>C(t[n],e)}class X extends K{constructor(t,n,r){super(t),c(this,"supports"),this.supports=Ot(n,r)}}class qe extends X{constructor(t,n,r){super({isVisible:t},n,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"}),c(this,"on",(s,i)=>"click"===s?y("back_button_pressed",i):this.state.on(s,i)),c(this,"off",(s,i)=>"click"===s?W("back_button_pressed",i):this.state.off(s,i)),this.postEvent=r}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_back_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}const Vt=S(e=>e instanceof Date?e:new Date(1e3*P().parse(e)),"Date");function Y(e,t){return new L(n=>{if("string"!=typeof n&&!(n instanceof URLSearchParams))throw k();const r="string"==typeof n?new URLSearchParams(n):n;return vt(e,s=>{const i=r.get(s);return null===i?void 0:i})},!1,t)}const Re=w({id:P(),type:u(),title:u(),photoUrl:{type:u().optional(),from:"photo_url"},username:u().optional()},"Chat").optional(),Nt=w({addedToAttachmentMenu:{type:v().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:v().optional(),from:"allows_write_to_pm"},firstName:{type:u(),from:"first_name"},id:P(),isBot:{type:v().optional(),from:"is_bot"},isPremium:{type:v().optional(),from:"is_premium"},languageCode:{type:u().optional(),from:"language_code"},lastName:{type:u().optional(),from:"last_name"},photoUrl:{type:u().optional(),from:"photo_url"},username:u().optional()},"User").optional();const Oe=S(e=>qt(u().parse(e)),"rgb");function Ne(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}const $t=S(e=>{const t=Oe().optional();return Object.entries(Et(e)).reduce((n,[r,s])=>(n[function Ve(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}(r)]=t.parse(s),n),{})},"ThemeParams");function tt(e){return Y({botInline:{type:v().optional(),from:"tgWebAppBotInline"},initData:{type:Y({authDate:{type:Vt(),from:"auth_date"},canSendAfter:{type:P().optional(),from:"can_send_after"},chat:Re,chatInstance:{type:u().optional(),from:"chat_instance"},chatType:{type:u().optional(),from:"chat_type"},hash:u(),queryId:{type:u().optional(),from:"query_id"},receiver:Nt,startParam:{type:u().optional(),from:"start_param"},user:Nt},"InitData").optional(),from:"tgWebAppData"},initDataRaw:{type:u().optional(),from:"tgWebAppData"},platform:{type:u(),from:"tgWebAppPlatform"},showSettings:{type:v().optional(),from:"tgWebAppShowSettings"},startParam:{type:u().optional(),from:"tgWebAppStartParam"},themeParams:{type:$t(),from:"tgWebAppThemeParams"},version:{type:u(),from:"tgWebAppVersion"}}).parse(e)}function Lt(e){return tt(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function De(){return Lt(window.location.href)}function Mt(){return performance.getEntriesByType("navigation")[0]}function $e(){const e=Mt();if(!e)throw new Error("Unable to get first navigation entry.");return Lt(e.name)}function Wt(e){return`telegram-apps/${e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function Bt(e,t){sessionStorage.setItem(Wt(e),JSON.stringify(t))}function Ut(e){const t=sessionStorage.getItem(Wt(e));try{return t?JSON.parse(t):void 0}catch{}}function Le(){return tt(Ut("launchParams")||"")}function Gt(e){Bt("launchParams",function Me(e){const{initDataRaw:t,themeParams:n,platform:r,version:s,showSettings:i,startParam:a,botInline:o}=e,p=new URLSearchParams;return p.set("tgWebAppPlatform",r),p.set("tgWebAppThemeParams",function Ht(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,n])=>[Ne(t),n])))}(n)),p.set("tgWebAppVersion",s),t&&p.set("tgWebAppData",t),a&&p.set("tgWebAppStartParam",a),"boolean"==typeof i&&p.set("tgWebAppShowSettings",i?"1":"0"),"boolean"==typeof o&&p.set("tgWebAppBotInline",o?"1":"0"),p.toString()}(e))}function jt(){const e=Mt();return!(!e||"reload"!==e.type)}const[Ue]=mt(function Be(){let e=0;return()=>(e+=1).toString()});function _(e,t){return()=>{const n=function We(){const e=[];for(const t of[De,$e,Le])try{const n=t();return Gt(n),n}catch(n){e.push(n instanceof Error?n.message:JSON.stringify(n))}throw new Error(["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\n","\u{1f4d6} Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment\n","Collected errors:",e.map(t=>`\u2014 ${t}`)].join("\n"))}(),r={...n,postEvent:Te(n.version),createRequestId:Ue()};if("function"==typeof e)return e(r);const[s,i,a]=j(),o=t({...r,state:jt()?Ut(e):void 0,addCleanup:s}),p=d=>(a||s(d.on("change",x=>{Bt(e,x)})),d);return[o instanceof Promise?o.then(p):p(o),i]}}_("backButton",({postEvent:e,version:t,state:n={isVisible:!1}})=>new qe(n.isVisible,t,e));class T extends X{constructor(){super(...arguments),c(this,"on",this.state.on.bind(this.state)),c(this,"off",this.state.off.bind(this.state))}}function zt(e){const t=e.available?e:{available:!1,device_id:"",token_saved:!1,access_requested:!1,access_granted:!1,type:""};return{available:!0,type:t.type,deviceId:t.device_id,tokenSaved:t.token_saved,accessRequested:t.access_requested,accessGranted:t.access_granted}}class He extends T{constructor({postEvent:t,version:n,...r}){super(r,n,{auth:"web_app_biometry_request_auth",openSettings:"web_app_biometry_open_settings",requestAccess:"web_app_biometry_request_access",updateToken:"web_app_biometry_update_token"}),c(this,"postEvent"),c(this,"authPromise"),c(this,"accessPromise"),this.postEvent=t}get available(){return this.get("available")}get accessGranted(){return this.get("accessGranted")}get accessRequested(){return this.get("accessRequested")}authenticate({reason:t,...n}){var r=this;return l(function*(){return r.authPromise||(r.authPromise=g({...n,method:"web_app_biometry_request_auth",event:"biometry_auth_requested",postEvent:r.postEvent,params:{reason:(t||"").trim()}}).then(({token:s})=>s).finally(()=>r.authPromise=void 0)),r.authPromise})()}get deviceId(){return this.get("deviceId")}openSettings(){this.postEvent("web_app_biometry_open_settings")}requestAccess({reason:t,...n}={}){return this.accessPromise||(this.accessPromise=g({...n,postEvent:this.postEvent,method:"web_app_biometry_request_access",event:"biometry_info_received",params:{reason:t||""}}).then(r=>{const s=zt(r);return this.set(s),s.accessGranted}).finally(()=>this.accessPromise=void 0)),this.accessPromise}get biometryType(){return this.get("biometryType")}get tokenSaved(){return this.get("tokenSaved")}updateToken({token:t,...n}={}){var r=this;return l(function*(){return["removed","updated"].includes((yield g({...n,postEvent:r.postEvent,method:"web_app_biometry_update_token",event:"biometry_token_updated",params:{token:t||""}})).status)})()}}function Ge(e){return et.apply(this,arguments)}function et(){return(et=l(function*(e){return zt(yield g({...e||{},method:"web_app_biometry_get_info",event:"biometry_info_received"}))})).apply(this,arguments)}_("biometryManager",function(){var e=l(function*({postEvent:t,version:n,state:r}){return new He({...r||C("web_app_biometry_get_info",n)?r||(yield Ge({timeout:1e3})):{available:!1,accessGranted:!1,accessRequested:!1,tokenSaved:!1,deviceId:""},version:n,postEvent:t})});return function(t){return e.apply(this,arguments)}}());class nt extends K{constructor(){super(...arguments),c(this,"on",this.state.on.bind(this.state)),c(this,"off",this.state.off.bind(this.state))}}class je extends nt{constructor(t,n){super({isConfirmationNeeded:t}),this.postEvent=n}set isConfirmationNeeded(t){this.set("isConfirmationNeeded",t),this.postEvent("web_app_setup_closing_behavior",{need_confirmation:t})}get isConfirmationNeeded(){return this.get("isConfirmationNeeded")}disableConfirmation(){this.isConfirmationNeeded=!1}enableConfirmation(){this.isConfirmationNeeded=!0}}_("closingBehavior",({postEvent:e,state:t={isConfirmationNeeded:!1}})=>new je(t.isConfirmationNeeded,e));class rt{constructor(t,n){c(this,"supports"),this.supports=Ot(t,n)}}function ze(e){if(Array.isArray(e))return e;if("string"==typeof e)try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}throw k()}class Je extends L{constructor(t,n,r){super(ze,n,r),c(this,"itemParser"),this.itemParser="function"==typeof t?t:t.parse.bind(t)}parse(t){const n=super.parse(t);return void 0===n?n:n.map(this.itemParser)}of(t){return this.itemParser="function"==typeof t?t:t.parse.bind(t),this}}function Jt(e,t){return Object.fromEntries(e.map(n=>[n,t]))}class Fe extends rt{constructor(t,n,r){super(t,{delete:"web_app_invoke_custom_method",get:"web_app_invoke_custom_method",getKeys:"web_app_invoke_custom_method",set:"web_app_invoke_custom_method"}),this.createRequestId=n,this.postEvent=r}delete(t,n={}){var r=this;return l(function*(){const s=Array.isArray(t)?t:[t];s.length&&(yield R("deleteStorageValues",{keys:s},r.createRequestId(),{...n,postEvent:r.postEvent}))})()}getKeys(t={}){var n=this;return l(function*(){return function Ze(e){return new Je(t=>t,!1,e)}().of(u()).parse(yield R("getStorageKeys",{},n.createRequestId(),{...t,postEvent:n.postEvent}))})()}get(t,n={}){var r=this;return l(function*(){const s=Array.isArray(t)?t:[t];if(!s.length)return Jt(s,"");const i=yield R("getStorageValues",{keys:s},r.createRequestId(),{...n,postEvent:r.postEvent}),a=w(Jt(s,u()),"CloudStorageData").parse(i);return Array.isArray(t)?a:a[t]})()}set(t,n,r={}){var s=this;return l(function*(){yield R("saveStorageValue",{key:t,value:n},s.createRequestId(),{...r,postEvent:s.postEvent})})()}}_(({createRequestId:e,postEvent:t,version:n})=>new Fe(n,e,t));class Qe extends rt{constructor(t,n){super(t,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"}),this.postEvent=n}impactOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:t})}notificationOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:t})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}_(({version:e,postEvent:t})=>new Qe(e,t));class Ke{constructor(t){this.initData=t}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){const{canSendAfter:t}=this;return t?new Date(this.authDate.getTime()+1e3*t):void 0}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}_(({initData:e})=>e?new Ke(e):void 0);class Xe extends T{constructor(t,n,r){super({isOpened:t},n,{open:"web_app_open_invoice"}),this.postEvent=r}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t,n){var r=this;return l(function*(){if(r.isOpened)throw new Error("Invoice is already opened");let s;if(n){const{hostname:i,pathname:a}=new URL(t,window.location.href);if("t.me"!==i)throw new Error(`Incorrect hostname: ${i}`);const o=a.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!o)throw new Error('Link pathname has incorrect format. Expected to receive "/invoice/{slug}" or "/${slug}"');[,,s]=o}else s=t;r.isOpened=!0;try{return(yield g({method:"web_app_open_invoice",event:"invoice_closed",params:{slug:s},postEvent:r.postEvent,capture:i=>s===i.slug})).status}finally{r.isOpened=!1}})()}}_(({version:e,postEvent:t})=>new Xe(!1,e,t));class Ye extends K{constructor({postEvent:t,...n}){super(n),c(this,"postEvent"),c(this,"on",(r,s)=>"click"===r?y("main_button_pressed",s):this.state.on(r,s)),c(this,"off",(r,s)=>"click"===r?W("main_button_pressed",s):this.state.off(r,s)),this.postEvent=t}get bgColor(){return this.get("bgColor")}commit(){""!==this.text&&this.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isEnabled,is_progress_visible:this.isLoaderVisible,text:this.text,color:this.bgColor,text_color:this.textColor})}disable(){return this.isEnabled=!1,this}enable(){return this.isEnabled=!0,this}hide(){return this.isVisible=!1,this}hideLoader(){return this.isLoaderVisible=!1,this}set isEnabled(t){this.setParams({isEnabled:t})}get isEnabled(){return this.get("isEnabled")}set isLoaderVisible(t){this.setParams({isLoaderVisible:t})}get isLoaderVisible(){return this.get("isLoaderVisible")}set isVisible(t){this.setParams({isVisible:t})}get isVisible(){return this.get("isVisible")}show(){return this.isVisible=!0,this}showLoader(){return this.isLoaderVisible=!0,this}setText(t){return this.setParams({text:t})}setTextColor(t){return this.setParams({textColor:t})}setBgColor(t){return this.setParams({bgColor:t})}setParams(t){return this.set(t),this.commit(),this}get text(){return this.get("text")}get textColor(){return this.get("textColor")}}function Zt(e,t){return n=>{const[r,s]=t[n];return C(r,s,e)}}function en(e){return new Promise(t=>{setTimeout(t,e)})}_("mainButton",({postEvent:e,themeParams:t,state:n={isVisible:!1,isEnabled:!1,text:"",isLoaderVisible:!1,textColor:t.buttonTextColor||"#ffffff",bgColor:t.buttonColor||"#000000"}})=>new Ye({...n,postEvent:e}));class nn extends T{constructor({postEvent:t,createRequestId:n,version:r,botInline:s,...i}){super(i,r,{requestPhoneAccess:"web_app_request_phone",requestWriteAccess:"web_app_request_write_access",switchInlineQuery:"web_app_switch_inline_query",setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"}),c(this,"botInline"),c(this,"postEvent"),c(this,"createRequestId"),c(this,"requestPhoneAccessPromise"),c(this,"requestWriteAccessPromise"),c(this,"supportsParam"),this.createRequestId=n,this.postEvent=t,this.botInline=s;const a=this.supports.bind(this);this.supports=o=>!!a(o)&&("switchInlineQuery"!==o||s),this.supportsParam=Zt(r,{"setHeaderColor.color":["web_app_set_header_color","color"],"close.returnBack":["web_app_close","return_back"]})}getRequestedContact({timeout:t=1e4}={}){var n=this;return l(function*(){return function tn(){return Y({contact:w({userId:{type:P(),from:"user_id"},phoneNumber:{type:u(),from:"phone_number"},firstName:{type:u(),from:"first_name"},lastName:{type:u().optional(),from:"last_name"}}),authDate:{type:Vt(),from:"auth_date"},hash:u()},"RequestedContact")}().parse(yield R("getRequestedContact",{},n.createRequestId(),{postEvent:n.postEvent,timeout:t}))})()}get bgColor(){return this.get("bgColor")}close(t){this.postEvent("web_app_close",this.supportsParam("close.returnBack")?{return_back:t}:{})}get headerColor(){return this.get("headerColor")}get isBotInline(){return this.botInline}get isDark(){return Rt(this.bgColor)}ready(){this.postEvent("web_app_ready")}requestContact({timeout:t=5e3}={}){var n=this;return l(function*(){try{return yield n.getRequestedContact()}catch{}if("sent"!==(yield n.requestPhoneAccess()))throw new Error("Access denied.");const r=Date.now()+t;let s=50;return It(l(function*(){for(;Date.now()<r;){try{return yield n.getRequestedContact()}catch{}yield en(s),s+=50}throw At(t)}),t)})()}requestPhoneAccess(t={}){var n=this;return l(function*(){return n.requestPhoneAccessPromise||(n.requestPhoneAccessPromise=g({...t,method:"web_app_request_phone",event:"phone_requested",postEvent:n.postEvent}).then(({status:r})=>r).finally(()=>n.requestPhoneAccessPromise=void 0)),n.requestPhoneAccessPromise})()}requestWriteAccess(t={}){var n=this;return l(function*(){return n.requestWriteAccessPromise||(n.requestWriteAccessPromise=g({...t,method:"web_app_request_write_access",event:"write_access_requested",postEvent:n.postEvent}).then(({status:r})=>r).finally(()=>n.requestWriteAccessPromise=void 0)),n.requestWriteAccessPromise})()}sendData(t){const{size:n}=new Blob([t]);if(!n||n>4096)throw new Error(`Passed data has incorrect size: ${n}`);this.postEvent("web_app_data_send",{data:t})}setHeaderColor(t){this.postEvent("web_app_set_header_color",Q(t)?{color:t}:{color_key:t}),this.set("headerColor",t)}setBgColor(t){this.postEvent("web_app_set_background_color",{color:t}),this.set("bgColor",t)}switchInlineQuery(t,n=[]){if(!this.supports("switchInlineQuery")&&!this.isBotInline)throw new Error("Method is unsupported because Mini App should be launched in inline mode.");this.postEvent("web_app_switch_inline_query",{query:t,chat_types:n})}}function rn(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];let s;if(n.length>64)throw new Error(`Title has incorrect size: ${n.length}`);if(!t.length||t.length>256)throw new Error(`Message has incorrect size: ${t.length}`);if(r.length>3)throw new Error(`Buttons have incorrect size: ${r.length}`);return s=r.length?r.map(i=>{const{id:a=""}=i;if(a.length>64)throw new Error(`Button ID has incorrect size: ${a}`);if(!i.type||"default"===i.type||"destructive"===i.type){const o=i.text.trim();if(!o.length||o.length>64)throw new Error(`Button text with type "${i.type||"default"}" has incorrect size: ${i.text.length}`);return{...i,text:o,id:a}}return{...i,id:a}}):[{type:"close",id:""}],{title:n,message:t,buttons:s}}_("miniApp",({themeParams:e,botInline:t=!1,state:n={bgColor:e.bgColor||"#ffffff",headerColor:e.headerBgColor||"#000000"},...r})=>new nn({...r,...n,botInline:t}));class sn extends T{constructor(t,n,r){super({isOpened:t},n,{open:"web_app_open_popup"}),this.postEvent=r}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t){var n=this;return l(function*(){if(n.isOpened)throw new Error("Popup is already opened.");n.isOpened=!0;try{const{button_id:r=null}=yield g({event:"popup_closed",method:"web_app_open_popup",postEvent:n.postEvent,params:rn(t)});return r}finally{n.isOpened=!1}})()}}_(({postEvent:e,version:t})=>new sn(!1,t,e));class on extends T{constructor(t,n,r){super({isOpened:t},n,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"}),this.postEvent=r}close(){this.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t){var n=this;return l(function*(){if(n.isOpened)throw new Error("The scanner is already opened");const{text:r,capture:s}=("string"==typeof t?{text:t}:t)||{};n.isOpened=!0;try{const i=((yield g({method:"web_app_open_scan_qr_popup",event:["qr_text_received","scan_qr_popup_closed"],postEvent:n.postEvent,params:{text:r},capture:a=>"scan_qr_popup_closed"===a.event||!s||s(a.payload)}))||{}).data||null;return i&&n.close(),i}finally{n.isOpened=!1}})()}}_(({version:e,postEvent:t})=>new on(!1,e,t));class an extends X{constructor(t,n,r){super({isVisible:t},n,{show:"web_app_setup_settings_button",hide:"web_app_setup_settings_button"}),c(this,"on",(s,i)=>"click"===s?y("settings_button_pressed",i):this.state.on(s,i)),c(this,"off",(s,i)=>"click"===s?W("settings_button_pressed",i):this.state.off(s,i)),this.postEvent=r}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_settings_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}_("settingsButton",({version:e,postEvent:t,state:n={isVisible:!1}})=>new an(n.isVisible,e,t));class cn extends T{constructor(t,n,r){super({isVerticalSwipeEnabled:t},n,{disableVerticalSwipe:"web_app_setup_swipe_behavior",enableVerticalSwipe:"web_app_setup_swipe_behavior"}),this.postEvent=r}set isVerticalSwipeEnabled(t){this.set("isVerticalSwipeEnabled",t),this.postEvent("web_app_setup_swipe_behavior",{allow_vertical_swipe:t})}get isVerticalSwipeEnabled(){return this.get("isVerticalSwipeEnabled")}disableVerticalSwipe(){this.isVerticalSwipeEnabled=!1}enableVerticalSwipe(){this.isVerticalSwipeEnabled=!0}}_("swipeBehavior",({postEvent:e,state:t={isVerticalSwipeEnabled:!0},version:n})=>new cn(t.isVerticalSwipeEnabled,n,e));class pn extends nt{get accentTextColor(){return this.get("accentTextColor")}get bgColor(){return this.get("bgColor")}get buttonColor(){return this.get("buttonColor")}get buttonTextColor(){return this.get("buttonTextColor")}get destructiveTextColor(){return this.get("destructiveTextColor")}getState(){return this.clone()}get headerBgColor(){return this.get("headerBgColor")}get hintColor(){return this.get("hintColor")}get isDark(){return!this.bgColor||Rt(this.bgColor)}get linkColor(){return this.get("linkColor")}get secondaryBgColor(){return this.get("secondaryBgColor")}get sectionBgColor(){return this.get("sectionBgColor")}get sectionHeaderTextColor(){return this.get("sectionHeaderTextColor")}get sectionSeparatorColor(){return this.get("sectionHeaderTextColor")}listen(){return y("theme_changed",t=>{this.set(function Ft(e){return $t().parse(e)}(t.theme_params))})}get subtitleTextColor(){return this.get("subtitleTextColor")}get textColor(){return this.get("textColor")}}function O(e,t){return e.startsWith(t)?e:`${t}${e}`}_("themeParams",({themeParams:e,state:t=e,addCleanup:n})=>{const r=new pn(t);return n(r.listen()),r});class hn extends rt{constructor(t,n,r){super(t,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),c(this,"supportsParam"),this.version=t,this.createRequestId=n,this.postEvent=r,this.supportsParam=Zt(t,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(t,n){const r=function V(e){return new URL("string"==typeof e?e:`${e.pathname||""}${O(e.search||"","?")}${O(e.hash||"","#")}`,"http://a")}(t).toString();if(!C("web_app_open_link",this.version))return void window.open(r,"_blank");const s="boolean"==typeof n?{tryInstantView:n}:n||{};this.postEvent("web_app_open_link",{url:r,try_browser:s.tryBrowser,try_instant_view:s.tryInstantView})}openTelegramLink(t){const{hostname:n,pathname:r,search:s}=new URL(t,"https://t.me");if("t.me"!==n)throw new Error(`URL has not allowed hostname: ${n}. Only "t.me" is allowed`);C("web_app_open_tg_link",this.version)?this.postEvent("web_app_open_tg_link",{path_full:r+s}):window.location.href=t}readTextFromClipboard(){var t=this;return l(function*(){const n=t.createRequestId(),{data:r=null}=yield g({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:t.postEvent,params:{req_id:n},capture:Tt(n)});return r})()}shareURL(t,n){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:t,text:n||""}).toString().replace(/\+/g,"%20"))}}const un=_(({version:e,postEvent:t,createRequestId:n})=>new hn(e,n,t));function Qt(){return st.apply(this,arguments)}function st(){return(st=l(function*(e={}){const{is_expanded:t,is_state_stable:n,...r}=yield g({...e,method:"web_app_request_viewport",event:"viewport_changed"});return{...r,isExpanded:t,isStateStable:n}})).apply(this,arguments)}function N(e){return e<0?0:e}class ln extends nt{constructor({postEvent:t,stableHeight:n,height:r,width:s,isExpanded:i}){super({height:N(r),isExpanded:i,stableHeight:N(n),width:N(s)}),c(this,"postEvent"),this.postEvent=t}sync(t){var n=this;return l(function*(){const{isStateStable:r,...s}=yield Qt(t);n.set({...s,stableHeight:r?s.height:n.get("stableHeight")})})()}get height(){return this.get("height")}get stableHeight(){return this.get("stableHeight")}listen(){return y("viewport_changed",t=>{const{height:n,width:r,is_expanded:s,is_state_stable:i}=t,a=N(n);this.set({height:a,isExpanded:s,width:N(r),...i?{stableHeight:a}:{}})})}get isExpanded(){return this.get("isExpanded")}get width(){return this.get("width")}expand(){this.postEvent("web_app_expand"),this.set("isExpanded",!0)}get isStable(){return this.stableHeight===this.height}}_("viewport",function(){var e=l(function*({state:t,platform:n,postEvent:r,addCleanup:s}){let i=!1,a=0,o=0,p=0;if(t)i=t.isExpanded,a=t.height,o=t.width,p=t.stableHeight;else if(["macos","tdesktop","unigram","webk","weba","web"].includes(n))i=!0,a=window.innerHeight,o=window.innerWidth,p=window.innerHeight;else{const x=yield Qt({timeout:1e3,postEvent:r});i=x.isExpanded,a=x.height,o=x.width,p=x.isStateStable?a:0}const d=new ln({postEvent:r,height:a,width:o,stableHeight:p,isExpanded:i});return s(d.listen()),d});return function(t){return e.apply(this,arguments)}}());var bn=m(9862);const wn=un();let yn=(()=>{class e{constructor(n){this.http=n,this.apiUrl="https://api.telegram.org/bot5655959098:AAE1sXjgPON7tGhQGetT9UiDeI6FQccAInI"}sendInvoice(n){return this.http.post(this.apiUrl+"/createInvoiceLink",n).pipe((0,ne.b)(r=>{r.ok&&(console.log("Payment success!!"),wn.openTelegramLink(r.result))}),(0,re.x)(()=>{console.log("Payment finallize")}),(0,se.K)(r=>(console.log("Payment closed!"),(0,ie._)(()=>r))))}static#t=this.\u0275fac=function(r){return new(r||e)(h.LFG(bn.eN))};static#e=this.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vn=m(304);let En=(()=>{class e{constructor(n,r){this.paymentService=n,this.authService=r,this.paymentData={chat_id:901201138,title:"buy 100 stars",description:"buy 100",payload:"load",currency:"XTR",prices:[{label:"one",amount:100}]},this.initData=this.authService.getInitData()}ngOnInit(){}pay(n){this.paymentService.sendInvoice(n).subscribe(r=>{console.log(r)})}static#t=this.\u0275fac=function(r){return new(r||e)(h.Y36(yn),h.Y36(vn.e))};static#e=this.\u0275cmp=h.Xpm({type:e,selectors:[["app-ranking-top"]],decls:6,vars:0,consts:[[3,"click"],["href","https://t.me/$oWm68wnk2Eh3BgAAFQZRpL-4cXQ",2,"background-color","white","color","black"]],template:function(r,s){1&r&&(h.TgZ(0,"p"),h._uU(1," ranking-top works!\n"),h.qZA(),h.TgZ(2,"button",0),h.NdJ("click",function(){return s.pay(s.paymentData)}),h._uU(3,"PAY"),h.qZA(),h.TgZ(4,"a",1),h._uU(5,"asdsadsa"),h.qZA())}})}return e})();const xn=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=h.Xpm({type:e,selectors:[["app-ranking-page"]],decls:5,vars:0,consts:[[1,"ranking-page"],[1,"ranking-page__top"],[1,"ranking-page__list"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"app-ranking-top"),h.qZA(),h.TgZ(3,"div",2),h._UZ(4,"app-ranking-list"),h.qZA()())},dependencies:[ee,En],styles:[".ranking-page[_ngcontent-%COMP%]{height:calc(100vh - 30px)}.ranking-page__top[_ngcontent-%COMP%]{width:100%;height:30%}.ranking-page__list[_ngcontent-%COMP%]{width:100%;height:70%}"]})}return e})()}];let Pn=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=h.oAB({type:e});static#n=this.\u0275inj=h.cJS({imports:[gt.Bz.forChild(xn),gt.Bz]})}return e})(),Cn=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=h.oAB({type:e});static#n=this.\u0275inj=h.cJS({imports:[_t.ez,te,Pn]})}return e})()}}]);